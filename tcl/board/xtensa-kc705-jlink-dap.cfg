# Copyright (C) 2020-2021 Cadence Design Systems, Inc.
# Ian Thompson <ianst@cadence.com>
#
# Cadence KC705 FPGA Developemnt Platform for Xtensa targets
# Can be used with external J-Link adapters
#

# Adapter serial number specified in interface .cfg file
source [find interface/jlink.cfg]
adapter speed 5000

# KC705 supports DAP/JTAG
transport select jtag
set XTENSA_DAP enable

# Detailed trace output (e.g. level 3) can reduce performance
# debug_level 2

# Create Xtensa target first
source [find target/xtensa.cfg]

# Configure Xtensa core parameters next
# Generate [xtensa-core-XXX.cfg] via "xt-gdb --dump-oocd-config" 

# Set APB offset (behind DAP) for debug module registers
xtensa dm offset 0x10000

